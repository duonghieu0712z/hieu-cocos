window.__require=function i(t,n,e){function s(h,o){if(!n[h]){if(!t[h]){var r=h.split("/");if(r=r[r.length-1],!t[r]){var u="function"==typeof __require&&__require;if(!o&&u)return u(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+h+"'")}}var a=n[h]={exports:{}};t[h][0].call(a.exports,function(i){return s(t[h][1][i]||i)},a,a.exports,i,t,n,e)}return n[h].exports}for(var c="function"==typeof __require&&__require,h=0;h<e.length;h++)s(e[h]);return s}({Car:[function(i,t,n){"use strict";cc._RF.push(t,"3ff2cdeHhNIJZlSqIBWVN/L","Car"),cc.Class({extends:cc.Component,properties:{direction:cc.Vec2.RIGHT,speed:20,_isMoving:!1},update:function(i){this.move(i)},move:function(i){if(this._isMoving){var t=this.direction.normalize();this.node.position=this.node.position.add(t.mul(this.speed*i))}},run:function(){this._isMoving=!0},stop:function(){this._isMoving=!1}}),cc._RF.pop()},{}],Chicken:[function(i,t,n){"use strict";cc._RF.push(t,"d6491M3R7tDcqSRoVpp40+r","Chicken"),cc.Class({extends:cc.Component,properties:{direction:cc.Vec2,speed:20,anim:cc.Animation,_isMoving:!1,_isDied:!1},update:function(i){this.move(i)},move:function(i){if(!this._isDied&&this._isMoving){var t=this.direction.normalize();this.node.position=this.node.position.add(t.mul(this.speed*i))}},die:function(){this.stop(),this.node.color=cc.Color.BLACK,this._isDied=!0},run:function(){this._isMoving||(this.anim.play("chicken-run"),this._isMoving=!0)},stop:function(){this.anim.stop("chicken-run"),this._isMoving=!1}}),cc._RF.pop()},{}],GameManager:[function(i,t,n){"use strict";cc._RF.push(t,"fc507pjRWxEeJBPWnupkyi+","GameManager");var e=i("Car"),s=i("Chicken"),c=i("Light"),h=i("utils").isCollided;cc.Class({extends:cc.Component,properties:{greenLight:c,car:e,chicken:s},update:function(i){this.onTurnOnGreenLight(),this.onCollider()},onTurnOnGreenLight:function(){this.greenLight.isActive()&&(this.chicken.run(),this.car.run())},onCollider:function(){h(this.chicken.node,this.car.node)&&this.chicken.die()}}),cc._RF.pop()},{Car:"Car",Chicken:"Chicken",Light:"Light",utils:"utils"}],Light:[function(i,t,n){"use strict";cc._RF.push(t,"5668eTzY8RDGKpZu8YOJ7nP","Light"),cc.Class({extends:cc.Component,properties:{color:cc.Color.WHITE,lightDuration:1,flashDuration:.2,flashRepeat:6,_isActive:!1,_isLight:!1,_isFlash:!1,_timer:0,_repeatCounter:0},onLoad:function(){this.node.color=this.color,this.turnOff()},update:function(i){this._isActive&&(this.light(i),this.flash(i))},isActive:function(){return this._isActive},active:function(i){i&&this.turnOn(),this._isActive=i},turnOn:function(){this.node.opacity=255,this._isLight=!0},turnOff:function(){this.node.opacity=63,this._isLight=!1},switchLight:function(){this._isLight?this.turnOff():this.turnOn()},flash:function(i){this._isFlash&&this._repeatCounter<=this.flashRepeat&&(this._timer+=i,this._timer>=this.flashDuration&&(this.switchLight(),this._repeatCounter++,this._repeatCounter>this.flashRepeat&&(this._isActive=!1),this._timer=0))},light:function(i){this._timer+=i,this._timer>=this.lightDuration&&(this._isFlash=!0,this._timer=0)}}),cc._RF.pop()},{}],TrafficLight:[function(i,t,n){"use strict";cc._RF.push(t,"15ee0dpHHtHu7SMvYiHigTQ","TrafficLight");var e=i("Light");cc.Class({extends:cc.Component,properties:{lights:[e],_currentLight:e,_index:0},start:function(){this.activeCurrentLight()},update:function(i){this._currentLight&&this.nextLight()},nextLight:function(){if(!this._currentLight.isActive()){if(this._index++,this._index===this.lights.length)return void(this._currentLight=null);this.activeCurrentLight()}},activeCurrentLight:function(){this._currentLight=this.lights[this._index],this._currentLight.active(!0)}}),cc._RF.pop()},{Light:"Light"}],utils:[function(i,t,n){"use strict";function e(i){var t=i.x,n=i.y,e=i.width,s=i.height,c=i.scaleX,h=i.scaleY,o=i.anchorX,r=i.anchorY;return{leftX:t-e*c*o,topY:n+s*h*(1-r),rightX:t+e*c*(1-o),bottomY:n-s*h*r}}cc._RF.push(t,"887ecGC6WRGOZyHK3UhvlKK","utils"),t.exports={getBox:e,isCollided:function(i,t){var n=e(i),s=e(t);return!(n.leftX>s.rightX||s.leftX>n.rightX||n.bottomY>s.topY||s.bottomY>n.topY)}},cc._RF.pop()},{}]},{},["Car","Chicken","GameManager","Light","TrafficLight","utils"]);
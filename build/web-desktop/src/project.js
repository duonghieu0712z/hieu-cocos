window.__require=function i(t,n,e){function s(r,c){if(!n[r]){if(!t[r]){var o=r.split("/");if(o=o[o.length-1],!t[o]){var u="function"==typeof __require&&__require;if(!c&&u)return u(o,!0);if(h)return h(o,!0);throw new Error("Cannot find module '"+r+"'")}}var a=n[r]={exports:{}};t[r][0].call(a.exports,function(i){return s(t[r][1][i]||i)},a,a.exports,i,t,n,e)}return n[r].exports}for(var h="function"==typeof __require&&__require,r=0;r<e.length;r++)s(e[r]);return s}({Car:[function(i,t,n){"use strict";cc._RF.push(t,"3ff2cdeHhNIJZlSqIBWVN/L","Car"),cc.Class({extends:cc.Component,properties:{direction:cc.Vec2.RIGHT,speed:20,isMoving:{default:!1,visible:!1}},update:function(i){if(this.isMoving){var t=this.direction.normalize();this.node.position=this.node.position.add(t.mul(this.speed*i))}}}),cc._RF.pop()},{}],Chicken:[function(i,t,n){"use strict";cc._RF.push(t,"d6491M3R7tDcqSRoVpp40+r","Chicken"),cc.Class({extends:cc.Component,properties:{direction:cc.Vec2,speed:20,anim:cc.Animation,car:cc.Node,isMoving:{default:!1,visible:!1}},update:function(i){if(this.isMoving){var t=this.direction.normalize();this.node.position=this.node.position.add(t.mul(this.speed*i))}},playRun:function(){this.isMoving||(this.anim.play("chicken-run"),this.isMoving=!0)},stopRun:function(){this.anim.stop("chicken-run"),this.isMoving=!1}}),cc._RF.pop()},{}],GameManager:[function(i,t,n){"use strict";cc._RF.push(t,"fc507pjRWxEeJBPWnupkyi+","GameManager");var e=i("Car"),s=i("Chicken"),h=i("Light"),r=i("utils").isCollided;cc.Class({extends:cc.Component,properties:{greenLight:h,car:e,chicken:s},update:function(i){this.greenLight.isLighting&&(this.chicken.playRun(),this.car.isMoving=!0),r(this.chicken.node,this.car.node)&&this.chicken.stopRun()}}),cc._RF.pop()},{Car:"Car",Chicken:"Chicken",Light:"Light",utils:"utils"}],Light:[function(i,t,n){"use strict";cc._RF.push(t,"5668eTzY8RDGKpZu8YOJ7nP","Light"),cc.Class({extends:cc.Component,properties:{color:cc.Color.WHITE,lightDuration:1,flashDuration:.2,flashRepeat:6,isCompleted:{default:!1,visible:!1},isLighting:{default:!1,visible:!1},_isLight:!1,_isFlash:!1,_timer:0,_repeatCounter:0},onLoad:function(){this.node.color=this.color,this.turnOff()},update:function(i){this.isLighting&&(this.light(i),this.flash(i))},turnOn:function(){this.node.opacity=255,this._isLight=!0},turnOff:function(){this.node.opacity=63,this._isLight=!1},switchLight:function(){this._isLight?this.turnOff():this.turnOn()},flash:function(i){this._isFlash&&this._repeatCounter<=this.flashRepeat&&(this._timer+=i,this._timer>=this.flashDuration&&(this.switchLight(),this._repeatCounter++,this._repeatCounter>this.flashRepeat&&(this.isCompleted=!0),this._timer=0))},light:function(i){this._timer+=i,this._timer>=this.lightDuration&&(this._isFlash=!0,this._timer=0)}}),cc._RF.pop()},{}],TrafficLight:[function(i,t,n){"use strict";cc._RF.push(t,"15ee0dpHHtHu7SMvYiHigTQ","TrafficLight");var e=i("Light");cc.Class({extends:cc.Component,properties:{lights:[e],_currentLight:e,_index:0},start:function(){this.turnOnCurrentLight()},update:function(i){this._currentLight&&this.nextLight()},nextLight:function(){if(this._currentLight.isCompleted){if(this._currentLight.isLighting=!1,this._index++,this._index===this.lights.length)return void(this._currentLight=null);this.turnOnCurrentLight()}},turnOnCurrentLight:function(){this._currentLight=this.lights[this._index],this._currentLight.isLighting=!0,this._currentLight.turnOn()}}),cc._RF.pop()},{Light:"Light"}],utils:[function(i,t,n){"use strict";function e(i){var t=i.x,n=i.y,e=i.width,s=i.height,h=i.scaleX,r=i.scaleY,c=i.anchorX,o=i.anchorY;return{leftX:t-e*h*c,topY:n+s*r*(1-o),rightX:t+e*h*(1-c),bottomY:n-s*r*o}}cc._RF.push(t,"887ecGC6WRGOZyHK3UhvlKK","utils"),t.exports={getBox:e,isCollided:function(i,t){var n=e(i),s=e(t);return!(n.leftX>s.rightX||s.leftX>n.rightX||n.bottomY>s.topY||s.bottomY>n.topY)}},cc._RF.pop()},{}]},{},["Car","Chicken","GameManager","Light","TrafficLight","utils"]);